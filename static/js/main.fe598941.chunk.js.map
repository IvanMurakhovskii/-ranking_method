{"version":3,"sources":["modules/fill-table-form/fill-table.tsx","modules/preference-table/preference-table.tsx","pages/PreferenceTablePage.tsx","modules/ranking/ranking.tsx","pages/RankingPage.tsx","App.tsx","index.tsx"],"names":["formItemLayout","labelCol","xs","span","sm","wrapperCol","formItemLayoutWithOutLabel","offset","FillTableSizeForm","history","useHistory","style","display","justify","flex","title","width","name","onFinish","expertsCount","names","localStorage","setItem","JSON","stringify","push","Item","label","required","rules","type","min","message","List","validator","_","a","length","Promise","reject","Error","fields","add","remove","errors","map","field","index","key","validateTrigger","whitespace","noStyle","placeholder","MinusCircleOutlined","className","onClick","icon","PlusOutlined","ErrorList","htmlType","PreferenceTable","props","onButtonClick","state","board","expertsCountValue","getItem","parse","namesValue","console","log","makeGrid","this","setState","coordinate","value","Object","assign","x","y","extras","to","bordered","extra","gutter","Text","strong","i","row","preference","j","onChange","updateBoard","marginTop","Component","components","experts","grid","withRouter","PreferenceTablePage","Ranking","componentSum","ranks","r","reduce","b","componentsNumber","sorted","slice","sort","v","indexOf","boardValue","componentsCount","newBoard","createBoard","createCompomentsSum","newRanks","createRank","margin","rank","el","RankingPage","App","basename","process","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fe598941.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Form, Input, Button, InputNumber, Card, Row, Col } from 'antd';\r\nimport { MinusCircleOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\ntype FormReturnValue = {\r\n    expertsCount: number\r\n    names: string[]\r\n}\r\n\r\nconst formItemLayout = {\r\n    labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 6 },\r\n    },\r\n    wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 20 },\r\n    },\r\n};\r\nconst formItemLayoutWithOutLabel = {\r\n    wrapperCol: {\r\n        xs: { span: 24, offset: 0 },\r\n        sm: { span: 20, offset: 6 },\r\n    },\r\n};\r\n\r\n\r\nconst FillTableSizeForm = () => {\r\n\r\n    const history = useHistory();\r\n\r\n\r\n    const onFinish = ({ expertsCount, names }: FormReturnValue) => {\r\n\r\n        localStorage.setItem(\"expertsCount\", JSON.stringify(expertsCount));\r\n        localStorage.setItem(\"names\", JSON.stringify(names));\r\n\r\n        history.push(\"/preference\");\r\n    };\r\n\r\n    return (\r\n        <Row style={{ display: \"flex\" }} justify=\"center\">\r\n            <Col flex={2} span={18}>\r\n                <Card title=\"Начальные данные\" style={{ width: '100%' }}>\r\n                    <Form name=\"dynamic_form_item\" {...formItemLayoutWithOutLabel} onFinish={onFinish}>\r\n                        <Form.Item\r\n                            {...formItemLayout}\r\n                            label=\"Количество экспертов\"\r\n                            required={true}\r\n                            name={\"expertsCount\"} rules={[{ type: 'number', min: 0, message: \"Количество экспертов не может быть меньше 0\" }]}\r\n                        >\r\n                            <InputNumber style={{ width: '80%' }} />\r\n                        </Form.Item>\r\n                        <Form.List\r\n                            name=\"names\"\r\n                            rules={[\r\n                                {\r\n                                    validator: async (_, names) => {\r\n                                        if (!names || names.length < 2) {\r\n                                            return Promise.reject(new Error('Как минимум нужно ввести 2 компоненты!'));\r\n                                        }\r\n                                    },\r\n                                },\r\n                            ]}\r\n                        >\r\n                            {(fields, { add, remove }, { errors }) => (\r\n                                <>\r\n                                    {fields.map((field, index) => (\r\n                                        <Form.Item\r\n                                            {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\r\n                                            label={index === 0 ? 'Объекты исследования' : ''}\r\n                                            required={false}\r\n                                            key={field.key}\r\n                                        >\r\n                                            <Form.Item\r\n                                                {...field}\r\n                                                validateTrigger={['onChange', 'onBlur']}\r\n                                                rules={[\r\n                                                    {\r\n                                                        required: true,\r\n                                                        whitespace: true,\r\n                                                        message: \"Пожалуйста введите название объекта или удалить это поле!.\",\r\n                                                    },\r\n                                                ]}\r\n                                                noStyle\r\n                                            >\r\n                                                <Input placeholder=\"Название объекта исследования\" style={{ width: '80%' }} />\r\n                                            </Form.Item>\r\n                                            {fields.length > 1 ? (\r\n                                                <MinusCircleOutlined\r\n                                                    className=\"dynamic-delete-button\"\r\n                                                    onClick={() => remove(field.name)}\r\n                                                />\r\n                                            ) : null}\r\n                                        </Form.Item>\r\n                                    ))}\r\n                                    <Form.Item>\r\n                                        <Button\r\n                                            type=\"dashed\"\r\n                                            onClick={() => add()}\r\n                                            style={{ width: '60%' }}\r\n                                            icon={<PlusOutlined />}\r\n                                        >\r\n                                            Добавить обект исследования\r\n                                        </Button>\r\n                                        <Form.ErrorList errors={errors} />\r\n                                    </Form.Item>\r\n                                </>\r\n                            )}\r\n                        </Form.List>\r\n                        <Form.Item>\r\n                            <Button type=\"primary\" htmlType=\"submit\">\r\n                                Заполнить\r\n                            </Button>\r\n                        </Form.Item>\r\n                    </Form>\r\n                </Card>\r\n            </Col>\r\n        </Row >\r\n\r\n    );\r\n};\r\n\r\n\r\nexport default FillTableSizeForm;\r\n\r\n","import React, { Component } from 'react';\r\nimport { BoardType, Coordinate } from '../../types';\r\nimport { InputNumber, Row, Col, Typography, Input, Button, Card } from 'antd';\r\nimport { withRouter, Link } from 'react-router-dom';\r\n\r\ntype State = {\r\n  board: BoardType;\r\n  expertsCount: number;\r\n  names: string[];\r\n}\r\n\r\nclass PreferenceTable extends Component<any, State> {\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      board: [],\r\n      expertsCount: 0,\r\n      names: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const expertsCountValue = localStorage.getItem(\"expertsCount\");\r\n    const expertsCount: number = expertsCountValue === null ? 0 : JSON.parse(expertsCountValue);\r\n\r\n    const namesValue = localStorage.getItem(\"names\");\r\n    const names = namesValue === null ? [] : JSON.parse(namesValue);\r\n\r\n    console.log(names.length);\r\n\r\n    const board = makeGrid(names.length || 0, expertsCount);\r\n\r\n    console.log(board);\r\n\r\n    this.setState({\r\n      board,\r\n      expertsCount,\r\n      names\r\n    });\r\n  }\r\n\r\n  updateBoard(coordinate: Coordinate, value: number) {\r\n    let board = Object.assign(this.state.board);\r\n\r\n    board[coordinate.x][coordinate.y] = value;\r\n\r\n    this.setState(board);\r\n  }\r\n\r\n  onButtonClick = () => {\r\n    localStorage.setItem(\"board\", JSON.stringify(this.state.board));\r\n    this.props.history.push(\"/ranking\");\r\n  }\r\n\r\n  render() {\r\n\r\n    const extras = <div>\r\n      <Link to=\"/\">Ввод данных</Link>\r\n    </div>\r\n\r\n    return (\r\n      <Row justify=\"center\" >\r\n        <Col span={15}>\r\n          <Card title=\"Рейтинг\" bordered={true} extra={extras}>\r\n            <Row gutter={[8, 8]} justify=\"center\">\r\n              <Col span={6}>\r\n                <Row justify=\"center\">\r\n                  <Col>\r\n                    <Typography.Text strong>Наименование</Typography.Text>\r\n                  </Col>\r\n                </Row>\r\n                {this.state.names.map((name, i) => (\r\n                  <Row justify='center' className=\"custom-block\">\r\n                    <Col>\r\n                      <Typography.Text strong key={i}>{name}</Typography.Text>\r\n                      {/* <Input key={i} value={name} disabled /> */}\r\n                    </Col>\r\n                  </Row>\r\n                ))}\r\n              </Col>\r\n              <Col>\r\n                <Row justify=\"center\">\r\n                  <Col>\r\n                    <Typography.Text strong>Предпочтения</Typography.Text>\r\n                  </Col>\r\n                </Row>\r\n                {this.state.board.map((row, i) =>\r\n                  <Row>\r\n                    <Col key={i}>{row.map((preference, j) =>\r\n                      <InputNumber key={j} value={preference}\r\n                        onChange={(value: number) => { this.updateBoard({ x: i, y: j }, value); }} />\r\n                    )}\r\n                    </Col>\r\n                  </Row>)}\r\n              </Col>\r\n            </Row>\r\n            <Row justify=\"center\" gutter={[8, 8]} style={{ marginTop: \"1rem\" }}>\r\n              <Col>\r\n                <Button onClick={this.onButtonClick} type=\"primary\">Рассчитать ранг</Button>\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Col>\r\n\r\n      </Row >\r\n    );\r\n  };\r\n}\r\n\r\nexport const makeGrid = (components: number, experts: number): BoardType => {\r\n  let grid = [];\r\n  for (var i = 0; i < components; i++) {\r\n    var row = [];\r\n    for (var j = 0; j < experts; j++) {\r\n      row.push(0);\r\n    }\r\n    grid.push(row);\r\n  }\r\n  return grid;\r\n};\r\n\r\nexport default withRouter(PreferenceTable);","import React from 'react';\r\nimport PreferenceTable from '../modules/preference-table/preference-table';\r\n\r\nexport const PreferenceTablePage = () => (<PreferenceTable />)","import React, { Component } from 'react';\r\nimport { BoardType } from '../../types';\r\nimport { Card, Typography, Row, Col } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { Button } from 'antd/lib/radio';\r\n\r\ntype Props = {\r\n    board: BoardType,\r\n}\r\n\r\ntype State = {\r\n    board: BoardType,\r\n    names: string[],\r\n    componentSum: Array<number>\r\n    ranks: Array<number>\r\n}\r\n\r\nexport default class Ranking extends Component<{}, State> {\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            board: [],\r\n            names: [],\r\n            componentSum: [],\r\n            ranks: [],\r\n        }\r\n    }\r\n\r\n    createCompomentsSum(board: BoardType): number[] {\r\n        return board.map(r => r.reduce((a, b) => a + b));\r\n    }\r\n\r\n    createRank(componentSum: number[], componentsNumber: number) {\r\n\r\n        const sorted = Object.assign(componentSum.slice().sort(function (a, b) { return b - a }))\r\n        const ranks: Array<number> = componentSum.slice().map(function (v) {\r\n            return componentsNumber - sorted.indexOf(v)\r\n        });\r\n\r\n        return ranks;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const boardValue = localStorage.getItem(\"board\");\r\n        const board: BoardType = boardValue === null ? 0 : JSON.parse(boardValue);\r\n\r\n        const namesValue = localStorage.getItem(\"names\");\r\n        const names: string[] = namesValue === null ? 0 : JSON.parse(namesValue);\r\n\r\n        const componentsCount: number = board.length;\r\n\r\n        const newBoard = createBoard(board, componentsCount);\r\n        const componentSum = this.createCompomentsSum(newBoard);\r\n        const newRanks = this.createRank(componentSum, names.length);\r\n\r\n        this.setState({ board: newBoard, names: names, componentSum: componentSum, ranks: newRanks });\r\n    }\r\n\r\n    render() {\r\n\r\n        const extras = <div>\r\n            <Link to=\"/preference\" style={{ margin: \"1rem\" }}>Рейтинг</Link>\r\n            <Link to=\"/\">Ввод данных</Link>\r\n        </div>\r\n        return (\r\n            <Row justify=\"center\" >\r\n                <Col span={14}>\r\n                    <Card title=\"Ранг\" bordered={true} extra={extras}>\r\n                        <Row gutter={[10, 8]} justify=\"center\">\r\n                            <Col>\r\n                                <Row justify=\"center\">\r\n                                    <Col>\r\n                                        <Typography.Text strong>Наименование</Typography.Text>\r\n                                    </Col>\r\n                                </Row>\r\n                                {this.state.names.map((name, i) => (\r\n                                    <Row justify='center' className=\"custom-block\">\r\n                                        <Col>\r\n                                            <Typography.Text strong key={i}>{name}</Typography.Text>\r\n                                        </Col>\r\n                                    </Row>\r\n                                ))}\r\n                            </Col>\r\n                            <Col>\r\n                                <Row justify='center'>\r\n                                    <Col>\r\n                                        <Typography.Text strong >Вектор предпочтений</Typography.Text>\r\n                                    </Col>\r\n                                </Row>\r\n                                {this.state.board.map((row, i) =>\r\n                                    <Row justify=\"center\">\r\n                                        {row.map((preference, j) =>\r\n                                            <Col key={i}>\r\n                                                <Typography.Text className=\"custom-block\" strong key={j}>{preference}</Typography.Text>\r\n                                            </Col>\r\n                                        )}\r\n\r\n                                    </Row>)}\r\n                            </Col>\r\n                            <Col>\r\n                                <Row justify='center'>\r\n                                    <Col>\r\n                                        <Typography.Text strong >Сумма компонент</Typography.Text>\r\n                                    </Col>\r\n                                </Row>\r\n                                {this.state.componentSum.map((name, i) => (\r\n                                    <Row className=\"custom-block\" justify=\"center\">\r\n                                        <Col>\r\n                                            <Typography.Text strong key={i}>{name}</Typography.Text>\r\n                                        </Col>\r\n                                    </Row>\r\n                                ))}\r\n                            </Col>\r\n                            <Col>\r\n                                <Row justify='center'>\r\n                                    <Col>\r\n                                        <Typography.Text strong >Ранг</Typography.Text>\r\n                                    </Col>\r\n                                </Row>\r\n                                {this.state.ranks.map((rank, i) => (\r\n                                    <Row className=\"custom-block\" justify=\"center\">\r\n                                        <Col>\r\n                                            <Typography.Text strong key={i}>{rank}</Typography.Text>\r\n                                        </Col>\r\n                                    </Row>\r\n                                ))}\r\n                            </Col>\r\n                        </Row>\r\n                    </Card>\r\n                </Col>\r\n            </Row>\r\n        );\r\n    };\r\n}\r\n\r\nexport const createBoard = (board: BoardType, componentsCount: number): BoardType => {\r\n    return board.map((row, i) => row.map(el => {\r\n        return (el - 1)\r\n    }));\r\n};\r\n","import React from 'react';\r\nimport Ranking from '../modules/ranking/ranking';\r\n\r\nexport const RankingPage = () => (<Ranking />)","import React, { FC } from 'react';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport FillTableSizeForm from './modules/fill-table-form/fill-table';\nimport { Route, Switch, HashRouter } from 'react-router-dom';\nimport { PreferenceTablePage } from './pages/PreferenceTablePage';\nimport { RankingPage } from './pages/RankingPage';\n\nconst App: FC = () => {\n   return (\n      <div>\n         <HashRouter basename={process.env.PUBLIC_URL}>\n            <Switch>\n               <Route exact path=\"/\" component={FillTableSizeForm} />\n               <Route exact path=\"/preference\" component={PreferenceTablePage} />\n               <Route exact path=\"/ranking\" component={RankingPage} />\n            </Switch>\n         </HashRouter>\n      </div>\n   );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}